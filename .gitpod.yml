# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

tasks:
  - name: Terminal 1
    before: npm 'before build'
    init: npm i -g wasm-pack
    command: wasm-pack build
  - name: Terminal 2
    before: cd 'before link'
    init: cd frontend && npm i --legacy-peer-deps
    command: cd ../pkg && npm link 
  - name: Terminal 3
    before: cd 'before start'
    init: cd frontend && npm link --legacy-peer-deps
    command: npm run start

#  The port will open at http://localhost:8080/image-editor
ports:
  - port: 8080
    onOpen : open-browser
    # url: https://8080-minorandmaj-imageeditor-h5crvjpb5v9.ws-us63.gitpod.io/image-editor
    visibility: private