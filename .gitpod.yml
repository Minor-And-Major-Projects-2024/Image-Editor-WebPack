# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

tasks:
  - init: gp open README.md
  - name: Terminal_1
    init: npm i -g wasm-pack
  - name: Terminal_2
    init: gp sync-await terminal_1
    command: wasm-pack build && cd frontend && npm i --legacy-peer-deps
  - name: Terminal_3
    init: gp sync-await terminal_2
    command: cd pkg && npm link
  - name: Terminal_4
    init: gp sync-await Terminal_3
    command: cd frontend && npm link --legacy-peer-deps
  - name: Terminal _5
    init: gp sync-await Terminal_4
    command: cd frontend && npm run start && gp preview $(gp url 8080)/image-editor
    
#  The port will open at http://localhost:8080/image-editor
ports:
  - port: 8080
    onOpen : open-browser
    # url: https://8080-minorandmaj-imageeditor-h5crvjpb5v9.ws-us63.gitpod.io/image-editor
    visibility: private